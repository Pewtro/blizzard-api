// Generated by ts-to-zod
import { z } from 'zod';
import { baseSearchParametersSchema, localesSchema } from '../core';

const inventoryTypeSchema = z.object({
  name: z.record(localesSchema, z.union([z.string(), z.undefined()])),
  type: z.union([
    z.literal('BACK'),
    z.literal('BAG'),
    z.literal('CHEST'),
    z.literal('FEET'),
    z.literal('FINGER'),
    z.literal('HANDS'),
    z.literal('HEAD'),
    z.literal('LEGS'),
    z.literal('NECK'),
    z.literal('NON_EQUIP'),
    z.literal('SHIRT'),
    z.literal('SHOULDER'),
    z.literal('TABARD'),
    z.literal('TRINKET'),
    z.literal('TWOHWEAPON'),
    z.literal('WAIST'),
    z.literal('WRIST'),
  ]),
});

const itemQualitySchema = z.object({
  name: z.record(localesSchema, z.union([z.string(), z.undefined()])),
  type: z.union([
    z.literal('ARTIFACT'),
    z.literal('COMMON'),
    z.literal('EPIC'),
    z.literal('HEIRLOOM'),
    z.literal('LEGENDARY'),
    z.literal('POOR'),
    z.literal('RARE'),
    z.literal('UNCOMMON'),
  ]),
});

/**
 * The parameters for an item search.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/guides/search}
 */
export const itemSearchParametersSchema = baseSearchParametersSchema.extend({
  locale: localesSchema,
  name: z.string(),
});

const effectSchema = z.object({
  display_string: z.string(),
  required_count: z.number(),
});

const damageSchema = z.object({
  damage_class: z.object({
    name: z.string(),
    type: z.string(),
  }),
  display_string: z.string(),
  max_value: z.number(),
  min_value: z.number(),
});

const durabilitySchema = z.object({
  display_string: z.string(),
  value: z.number(),
});

const requirementsSchema = z.object({
  level: durabilitySchema,
});

const weaponSchema = z.object({
  attack_speed: durabilitySchema,
  damage: damageSchema,
  dps: durabilitySchema,
});

const recipeItemDisplayStringsSchema = z.object({
  copper: z.string(),
  gold: z.string(),
  header: z.string(),
  silver: z.string(),
});

const statTypeSchema = z.union([
  z.literal('Agility'),
  z.literal('Critical Strike'),
  z.literal('Haste'),
  z.literal('Intellect'),
  z.literal('Mastery'),
  z.literal('Stamina'),
  z.literal('Strength'),
  z.literal('Versatility'),
]);

const statTypeCapitalizedSchema = z.union([
  z.literal('AGILITY'),
  z.literal('CRIT_RATING'),
  z.literal('HASTE_RATING'),
  z.literal('INTELLECT'),
  z.literal('MASTERY'),
  z.literal('STAMINA'),
  z.literal('STRENGTH'),
  z.literal('VERSATILITY'),
]);

const responseBaseSchema = z.any();

const nameIdKeySchema = z.any();

const mediaAssetSchema = z.any();

const nameIdSchema = z.any();

const keyBaseSchema = z.any();

const colorSchema = z.any();

/**
 * The response for an item class index.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const itemClassIndexResponseSchema = responseBaseSchema.extend({
  item_classes: z.array(nameIdKeySchema),
});

/**
 * The response for an item class.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const itemClassResponseSchema = responseBaseSchema.extend({
  class_id: z.number(),
  item_subclasses: z.array(nameIdKeySchema),
  name: z.string(),
});

/**
 * The response for an item media.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const itemMediaResponseSchema = responseBaseSchema.extend({
  assets: z.array(mediaAssetSchema),
  id: z.number(),
});

const mediaSchema = keyBaseSchema.extend({
  id: z.number(),
});

/**
 * The response for an item search.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/guides/search}
 */
export const itemSearchResponseItemSchema = keyBaseSchema.extend({
  data: z.object({
    id: z.number(),
    inventory_type: inventoryTypeSchema,
    is_equippable: z.boolean(),
    is_stackable: z.boolean(),
    item_class: z.object({
      id: z.number(),
      name: z.record(localesSchema, z.union([z.string(), z.undefined()])),
    }),
    item_subclass: z.object({
      id: z.number(),
      name: z.record(localesSchema, z.union([z.string(), z.undefined()])),
    }),
    level: z.number(),
    max_count: z.number(),
    media: z.object({
      id: z.number(),
    }),
    name: z.record(localesSchema, z.union([z.string(), z.undefined()])),
    purchase_price: z.number(),
    purchase_quantity: z.number(),
    quality: itemQualitySchema,
    required_level: z.number(),
    sell_price: z.number(),
  }),
});

/**
 * The response for an item set index.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const itemSetIndexResponseSchema = responseBaseSchema.extend({
  item_sets: z.array(nameIdKeySchema),
});

/**
 * The response for an item set.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const itemSetResponseSchema = responseBaseSchema.extend({
  effects: z.array(effectSchema),
  id: z.number(),
  items: z.array(nameIdKeySchema),
  name: z.string(),
});

/**
 * The response for an item subclass.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const itemSubClassResponseSchema = responseBaseSchema.extend({
  class_id: z.number(),
  display_name: z.string(),
  hide_subclass_in_tooltips: z.boolean(),
  subclass_id: z.number(),
  verbose_name: z.string(),
});

const displaySchema = z.object({
  color: colorSchema,
  display_string: z.string(),
});

const armorSchema = z.object({
  display: displaySchema,
  value: z.number(),
});

const spellSchema = z.object({
  description: z.string(),
  spell: nameIdKeySchema,
});

const statSchema = z.object({
  display: displaySchema,
  is_negated: z.boolean().optional(),
  type: z.object({
    name: statTypeSchema,
    type: statTypeCapitalizedSchema,
  }),
  value: z.number(),
});

const recipeItemSchema = z.object({
  armor: armorSchema.optional(),
  binding: z.object({
    name: z.string(),
    type: z.string(),
  }),
  durability: durabilitySchema,
  inventory_type: inventoryTypeSchema,
  item: mediaSchema,
  item_class: nameIdKeySchema,
  item_subclass: nameIdKeySchema,
  level: durabilitySchema,
  media: mediaSchema,
  name: z.string(),
  quality: itemQualitySchema,
  requirements: requirementsSchema,
  sell_price: z.object({
    display_strings: recipeItemDisplayStringsSchema,
    value: z.number(),
  }),
  stats: z.array(statSchema),
  weapon: weaponSchema.optional(),
});

const recipeSchema = z.object({
  item: recipeItemSchema,
  reagents: z.array(
    nameIdKeySchema.and(
      z.object({
        quantity: z.number(),
      }),
    ),
  ),
  reagents_display_string: z.string(),
});

const previewItemSchema = z.object({
  armor: armorSchema.optional(),
  binding: z
    .object({
      name: z.string(),
      type: z.string(),
    })
    .optional(),
  bonus_list: z.array(z.number()).optional(),
  container_slots: durabilitySchema.optional(),
  context: z.number().optional(),
  crafting_reagent: z.string().optional(),
  description: z.string().optional(),
  durability: durabilitySchema.optional(),
  inventory_type: inventoryTypeSchema,
  is_subclass_hidden: z.boolean().optional(),
  item: mediaSchema,
  item_class: nameIdKeySchema,
  item_subclass: nameIdKeySchema,
  level: durabilitySchema.optional(),
  media: mediaSchema,
  name: z.string(),
  quality: itemQualitySchema,
  recipe: recipeSchema.optional(),
  requirements: requirementsSchema.optional(),
  sell_price: z.number().optional(),
  shield_block: armorSchema.optional(),
  spells: z.array(spellSchema).optional(),
  stats: z.array(statSchema).optional(),
  unique_equipped: z.literal('Unique').optional(),
  weapon: weaponSchema.optional(),
});

/**
 * The response for an item.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const itemResponseSchema = nameIdSchema.extend(responseBaseSchema.shape).extend({
  description: z.string().optional(),
  inventory_type: inventoryTypeSchema,
  is_equippable: z.boolean(),
  is_stackable: z.boolean(),
  item_class: nameIdKeySchema,
  item_subclass: nameIdKeySchema,
  level: z.number(),
  max_count: z.number(),
  media: mediaSchema,
  preview_item: previewItemSchema,
  purchase_price: z.number(),
  purchase_quantity: z.number(),
  quality: itemQualitySchema,
  required_level: z.number(),
  sell_price: z.number(),
});
