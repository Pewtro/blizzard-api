// Generated by ts-to-zod
import { z } from 'zod';
import { colorSchema, factionsSchema, keyBaseSchema, nameIdKeySchema, nameIdSchema, responseBaseSchema } from '../core';

/**
 * The response for a Mythic Keystone leaderboard index.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const mythicKeystoneLeaderboardIndexResponseSchema = responseBaseSchema.extend({
  current_leaderboards: z.array(nameIdKeySchema),
});

const keystoneAffixElementSchema = z.object({
  keystone_affix: nameIdKeySchema,
  starting_level: z.number(),
});

const mythicRatingSchema = z.object({
  color: colorSchema,
  rating: z.number(),
});

const specializationSchema = keyBaseSchema.extend({
  id: z.number(),
});

const realmSchema = keyBaseSchema.extend({
  id: z.number(),
  slug: z.string(),
});

const profileSchema = nameIdSchema.extend({
  realm: realmSchema,
});

const memberSchema = z.object({
  faction: z.object({
    type: factionsSchema,
  }),
  profile: profileSchema,
  specialization: specializationSchema,
});

const leadingGroupSchema = z.object({
  completed_timestamp: z.number(),
  duration: z.number(),
  keystone_level: z.number(),
  members: z.array(memberSchema),
  mythic_rating: mythicRatingSchema,
  ranking: z.number(),
});

/**
 * The response for a Mythic Keystone leaderboard.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const mythicKeystoneLeaderboardResponseSchema = responseBaseSchema.extend({
  connected_realm: z.object({
    href: z.string(),
  }),
  keystone_affixes: z.array(keystoneAffixElementSchema),
  leading_groups: z.array(leadingGroupSchema),
  map: nameIdSchema,
  map_challenge_mode_id: z.number(),
  name: z.string(),
  period: z.number(),
  period_end_timestamp: z.number(),
  period_start_timestamp: z.number(),
});
