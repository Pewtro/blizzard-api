// Generated by ts-to-zod
import { z } from 'zod';
import { keyBaseSchema, mediaAssetSchema, nameIdKeySchema, nameIdSchema, responseBaseSchema } from '../core';

/**
 * The response for a profession index.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const professionIndexResponseSchema = responseBaseSchema.extend({
  professions: z.array(nameIdKeySchema),
});

/**
 * The response for a profession media.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const professionMediaResponseSchema = responseBaseSchema.extend({
  assets: z.array(mediaAssetSchema),
  id: z.number(),
});

const mediaSchema = keyBaseSchema.extend({
  id: z.number(),
});

const typeSchema = z.object({
  name: z.string(),
  type: z.string(),
});

const categorySchema = z.object({
  name: z.string(),
  recipes: z.array(nameIdKeySchema),
});

/**
 * The response for a recipe media.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const recipeMediaResponseSchema = responseBaseSchema.extend({
  assets: z.array(mediaAssetSchema),
  id: z.number(),
});

const craftedQuantitySchema = z.object({
  value: z.number(),
});

const reagentSchema = z.object({
  quantity: z.number(),
  reagent: nameIdKeySchema,
});

/**
 * The response for a profession.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const professionResponseSchema = nameIdSchema.extend(responseBaseSchema.shape).extend({
  description: z.string(),
  media: mediaSchema,
  skill_tiers: z.array(nameIdKeySchema),
  type: typeSchema,
});

/**
 * The response for a profession skill tier.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const professionSkillTierResponseSchema = nameIdSchema.extend(responseBaseSchema.shape).extend({
  categories: z.array(categorySchema),
  maximum_skill_level: z.number(),
  minimum_skill_level: z.number(),
});

/**
 * The response for a recipe.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const recipeResponseSchema = nameIdSchema.extend(responseBaseSchema.shape).extend({
  crafted_item: nameIdKeySchema,
  crafted_quantity: craftedQuantitySchema,
  media: mediaSchema,
  reagents: z.array(reagentSchema),
});
