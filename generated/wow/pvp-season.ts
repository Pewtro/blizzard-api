// Generated by ts-to-zod
import { z } from 'zod';

const bracketSchema = z.object({
  id: z.number(),
  type: z.union([z.literal('ARENA_3v3'), z.literal('BATTLEGROUNDS'), z.literal('SHUFFLE')]),
});

const seasonMatchStatisticsSchema = z.object({
  lost: z.number(),
  played: z.number(),
  won: z.number(),
});

const responseBaseSchema = z.any();

const nameIdKeySchema = z.any();

const nameIdSchema = z.any();

const factionsSchema = z.any();

const keyBaseSchema = z.any();

const factionSchema = z.any();

const seasonSchema = keyBaseSchema.extend({
  id: z.number(),
});

const rewardSchema = z.object({
  achievement: nameIdKeySchema,
  bracket: bracketSchema,
  faction: factionSchema.optional(),
  rating_cutoff: z.number(),
  specialization: nameIdKeySchema.optional(),
});

/**
 * The response for a PvP season index.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const pvpSeasonIndexResponseSchema = responseBaseSchema.extend({
  current_season: seasonSchema,
  seasons: z.array(seasonSchema),
});

/**
 * The response for a PvP season.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const pvpSeasonResponseSchema = responseBaseSchema.extend({
  id: z.number(),
  leaderboards: z.object({
    href: z.string(),
  }),
  rewards: z.object({
    href: z.string(),
  }),
  season_name: z.string().optional(),
  season_start_timestamp: z.number(),
});

const realmSchema = keyBaseSchema.extend({
  id: z.number(),
  slug: z.string(),
});

const characterSchema = nameIdSchema.extend({
  realm: realmSchema,
});

/**
 * The response for a PvP leaderboard index.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const pvpLeaderboardIndexResponseSchema = responseBaseSchema.extend({
  leaderboards: z.array(nameIdKeySchema),
  season: seasonSchema,
});

const entrySchema = z.object({
  character: characterSchema,
  faction: z.object({
    type: factionsSchema,
  }),
  rank: z.number(),
  rating: z.number(),
  season_match_statistics: seasonMatchStatisticsSchema,
  tier: seasonSchema,
});

/**
 * The response for PvP rewards index.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const pvpRewardsIndexResponseSchema = responseBaseSchema.extend({
  rewards: z.array(rewardSchema),
  season: seasonSchema,
});

/**
 * The response for a PvP leaderboard.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const pvpLeaderboardResponseSchema = responseBaseSchema.extend({
  bracket: bracketSchema,
  entries: z.array(entrySchema),
  name: z.string(),
  season: seasonSchema,
});
