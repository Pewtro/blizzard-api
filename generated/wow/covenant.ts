// Generated by ts-to-zod
import { z } from 'zod';
import { keyBaseSchema, nameIdKeySchema, responseBaseSchema } from '../core';

/**
 * Interface for a response from the conduit index endpoint.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const conduitIndexResponseSchema = responseBaseSchema.extend({
  conduits: z.array(nameIdKeySchema),
});

const itemSchema = keyBaseSchema.extend({
  id: z.number(),
});

const socketTypeSchema = z.object({
  name: z.string(),
  type: z.string(),
});

/**
 * Interface for a response from the covenant index endpoint.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const covenantIndexResponseSchema = responseBaseSchema.extend({
  covenants: z.array(nameIdKeySchema),
});

const mediaSchema = keyBaseSchema.extend({
  id: z.number(),
});

const renownRewardSchema = z.object({
  level: z.number(),
  reward: nameIdKeySchema,
});

/**
 * Interface for a response from the covenant endpoint.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const covenantResponseSchema = responseBaseSchema.extend({
  description: z.string(),
  id: z.number(),
  name: z.string(),
  renown_rewards: z.array(renownRewardSchema),
});

/**
 * Interface for a response from the soulbind index endpoint.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const soulbindIndexResponseSchema = responseBaseSchema.extend({
  soulbinds: z.array(nameIdKeySchema),
});

/**
 * Interface for a response from the soulbind endpoint.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const soulbindResponseSchema = responseBaseSchema.extend({
  covenant: nameIdKeySchema,
  creature: nameIdKeySchema,
  follower: nameIdKeySchema,
  id: z.number(),
  name: z.string(),
  talent_tree: nameIdKeySchema,
});

const classAbilitySpellTooltipSchema = z.object({
  cast_time: z.string(),
  cooldown: z.string().optional(),
  description: z.string(),
  power_cost: z.string().optional().nullable(),
  range: z.string().optional(),
  spell: nameIdKeySchema,
});

const spellTooltipSchema = z.object({
  cast_time: z.string(),
  description: z.string(),
  spell: itemSchema,
});

const signatureAbilitySpellTooltipSchema = z.object({
  cast_time: z.string(),
  cooldown: z.string(),
  description: z.string(),
  spell: nameIdKeySchema,
});

const rankSchema = z.object({
  id: z.number(),
  spell_tooltip: spellTooltipSchema,
  tier: z.number(),
});

const classAbilitySchema = z.object({
  id: z.number(),
  playable_class: nameIdKeySchema,
  spell_tooltip: classAbilitySpellTooltipSchema,
});

const signatureAbilitySchema = z.object({
  id: z.number(),
  spell_tooltip: signatureAbilitySpellTooltipSchema,
});

/**
 * Interface for a response from the conduit endpoint.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const conduitResponseSchema = responseBaseSchema.extend({
  id: z.number(),
  item: itemSchema,
  name: z.string(),
  ranks: z.array(rankSchema),
  socket_type: socketTypeSchema,
});

/**
 * Interface for a response from the covenant media endpoint.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const covenantMediaResponseSchema = responseBaseSchema.extend({
  class_abilities: z.array(classAbilitySchema),
  description: z.string(),
  id: z.number(),
  media: mediaSchema,
  name: z.string(),
  renown_rewards: z.array(renownRewardSchema),
  signature_ability: signatureAbilitySchema,
  soulbinds: z.array(nameIdKeySchema),
});
