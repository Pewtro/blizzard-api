// Generated by ts-to-zod
import { z } from 'zod';
import { responseBaseSchema } from '../core';

const auctionHouseTimeLeftSchema = z.union([
  z.literal('LONG'),
  z.literal('MEDIUM'),
  z.literal('SHORT'),
  z.literal('VERY_LONG'),
]);

const auctionHousePostingSchema = z.object({
  bid: z.number(),
  buyout: z.number(),
  id: z.number(),
  item: z.object({
    bonus_lists: z.array(z.number()),
    context: z.number(),
    id: z.number(),
    modifiers: z.array(
      z.object({
        type: z.number(),
        value: z.number(),
      }),
    ),
  }),
  quantity: z.number(),
  time_left: auctionHouseTimeLeftSchema,
});

const auctionHouseCommoditySchema = z.object({
  id: z.number(),
  item: z.object({
    id: z.number(),
  }),
  quantity: z.number(),
  time_left: auctionHouseTimeLeftSchema,
  unit_price: z.number(),
});

/**
 * Interface for a response from the auction house endpoint.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const auctionHouseResponseSchema = responseBaseSchema.extend({
  auctions: z.array(auctionHousePostingSchema),
  commodities: z.object({
    href: z.string(),
  }),
  connected_realm: z.object({
    href: z.string(),
  }),
});

/**
 * Interface for a response from the auction house commodities endpoint.
 * @see {@link https://develop.battle.net/documentation/world-of-warcraft/game-data-apis}
 */
export const auctionHouseCommoditiesResponseSchema = responseBaseSchema.extend({
  auctions: z.array(auctionHouseCommoditySchema),
});
