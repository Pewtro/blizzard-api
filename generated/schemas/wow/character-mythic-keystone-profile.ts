// Generated by ts-to-zod
import { z } from 'zod';
import {
  characterSchema,
  colorSchema,
  keyBaseSchema,
  nameIdKeySchema,
  nameIdSchema,
  realmSchema,
  responseBaseSchema,
} from '../core';

const currentPeriodSchema = z.strictObject({
  period: keyBaseSchema.and(
    z.strictObject({
      id: z.number(),
    }),
  ),
});

const mythicRatingSchema = z.strictObject({
  color: colorSchema,
  rating: z.number(),
});

const memberSchema = z.strictObject({
  character: nameIdSchema.and(
    z.strictObject({
      realm: realmSchema,
    }),
  ),
  equipped_item_level: z.number(),
  race: nameIdKeySchema,
  specialization: nameIdKeySchema,
});

export const characterMythicKeystoneProfileIndexResponseSchema = responseBaseSchema.extend({
  character: characterSchema,
  current_period: currentPeriodSchema,
  seasons: z.array(
    keyBaseSchema.and(
      z.strictObject({
        id: z.number(),
      }),
    ),
  ),
});

const bestRunSchema = z.strictObject({
  completed_timestamp: z.number(),
  dungeon: nameIdKeySchema,
  duration: z.number(),
  is_completed_within_time: z.boolean(),
  keystone_affixes: z.array(nameIdKeySchema),
  keystone_level: z.number(),
  members: z.array(memberSchema),
  mythic_rating: mythicRatingSchema,
});

export const characterMythicKeystoneSeasonDetailsResponseSchema = responseBaseSchema.extend({
  best_runs: z.array(bestRunSchema),
  character: nameIdKeySchema,
  mythic_rating: mythicRatingSchema,
  season: keyBaseSchema.and(
    z.strictObject({
      id: z.number(),
    }),
  ),
});
