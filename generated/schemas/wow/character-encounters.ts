// Generated by ts-to-zod
import { z } from 'zod';
import { characterSchema, hrefSchema, nameIdKeySchema, responseBaseSchema } from '../core';

export const characterEncountersSummaryResponseSchema = responseBaseSchema.extend({
  character: characterSchema,
  dungeons: hrefSchema,
  raids: hrefSchema,
});

const dungeonDifficultiesSchema = z.strictObject({
  name: z.union([z.literal('Heroic'), z.literal('Mythic'), z.literal('Mythic+ Dungeons'), z.literal('Normal')]),
  type: z.union([z.literal('HEROIC'), z.literal('MYTHIC'), z.literal('MYTHIC_KEYSTONE'), z.literal('NORMAL')]),
});

const statusSchema = z.strictObject({
  name: z.union([z.literal('Complete'), z.literal('In Progress')]),
  type: z.union([z.literal('COMPLETE'), z.literal('IN_PROGRESS')]),
});

const encounterSchema = z.strictObject({
  completed_count: z.number(),
  encounter: nameIdKeySchema,
  last_kill_timestamp: z.number(),
});

const progressSchema = z.strictObject({
  completed_count: z.number(),
  encounters: z.array(encounterSchema),
  total_count: z.number(),
});

const raidDifficultiesSchema = z.strictObject({
  name: z.union([
    z.literal('10 Player'),
    z.literal('10 Player (Heroic)'),
    z.literal('25 Player'),
    z.literal('25 Player (Heroic)'),
    z.literal('Heroic'),
    z.literal('Mythic'),
    z.literal('Normal'),
    z.literal('Raid Finder'),
  ]),
  type: z.union([
    z.literal('HEROIC'),
    z.literal('LEGACY_10_MAN'),
    z.literal('LEGACY_10_MAN_HEROIC'),
    z.literal('LEGACY_25_MAN'),
    z.literal('LEGACY_25_MAN_HEROIC'),
    z.literal('LFR'),
    z.literal('MYTHIC'),
    z.literal('NORMAL'),
  ]),
});

const raidModeSchema = z.strictObject({
  difficulty: raidDifficultiesSchema,
  progress: progressSchema,
  status: statusSchema,
});

const dungeonModeSchema = z.strictObject({
  difficulty: dungeonDifficultiesSchema,
  progress: progressSchema,
  status: statusSchema,
});

const dungeonInstanceSchema = z.strictObject({
  instance: nameIdKeySchema,
  modes: z.array(dungeonModeSchema),
});

const raidInstanceSchema = z.strictObject({
  instance: nameIdKeySchema,
  modes: z.array(raidModeSchema),
});

const expansionWithDungeonInstancesSchema = z.strictObject({
  expansion: nameIdKeySchema,
  instances: z.array(dungeonInstanceSchema),
});

const expansionWithRaidInstancesSchema = z.strictObject({
  expansion: nameIdKeySchema,
  instances: z.array(raidInstanceSchema),
});

export const characterDungeonsResponseSchema = responseBaseSchema.extend({
  expansions: z.array(expansionWithDungeonInstancesSchema),
});

export const characterRaidsResponseSchema = responseBaseSchema.extend({
  character: characterSchema,
  expansions: z.array(expansionWithRaidInstancesSchema),
});
