// Generated by ts-to-zod
import { z } from 'zod';
import {
  baseSearchParametersSchema,
  keyBaseSchema,
  localesSchema,
  mediaAssetSchema,
  nameIdKeySchema,
  nameIdSchema,
  responseBaseSchema,
  searchResponseWithoutResultsSchema,
} from '../core';

export const azeriteEssenceIndexResponseSchema = responseBaseSchema.extend({
  azerite_essences: z.array(nameIdKeySchema),
});

export const azeriteEssenceMediaResponseSchema = responseBaseSchema.extend({
  assets: z.array(mediaAssetSchema),
  id: z.number(),
});

const mediaSchema = keyBaseSchema.extend({
  id: z.number(),
});

const powerSchema = z.strictObject({
  id: z.number(),
  main_power_spell: nameIdKeySchema,
  passive_power_spell: nameIdKeySchema,
  rank: z.number(),
});

export const azeriteEssenceSearchParametersSchema = baseSearchParametersSchema.extend({
  'allowed_specializations.id': z.number().optional(),
});

const azeriteEssenceSearchResponseItemSchema = keyBaseSchema.extend({
  data: z.strictObject({
    allowed_specializations: z.array(
      z.strictObject({
        id: z.number(),
        name: z.record(localesSchema, z.union([z.string(), z.undefined()])),
      }),
    ),
    name: z.record(localesSchema, z.union([z.string(), z.undefined()])),
  }),
});

export const azeriteEssenceResponseSchema = nameIdSchema.extend(responseBaseSchema.shape).extend({
  allowed_specializations: z.array(nameIdKeySchema),
  media: mediaSchema,
  powers: z.array(powerSchema),
});

export const azeriteEssenceSearchResponseSchema = searchResponseWithoutResultsSchema.extend({
  results: z.array(azeriteEssenceSearchResponseItemSchema),
});
