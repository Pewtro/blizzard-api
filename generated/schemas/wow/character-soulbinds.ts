// Generated by ts-to-zod
import { z } from 'zod';
import { characterSchema, nameIdKeySchema, responseBaseSchema } from '../core';

const socketSchema = z.strictObject({
  conduit: nameIdKeySchema,
  rank: z.number(),
});

const typeClassSchema = z.strictObject({
  name: z.union([
    z.literal('Endurance Conduit Slot'),
    z.literal('Finesse Conduit Slot'),
    z.literal('Potency Conduit Slot'),
  ]),
  type: z.union([z.literal('ENDURANCE'), z.literal('FINESSE'), z.literal('POTENCY')]),
});

const conduitSocketSchema = z.strictObject({
  socket: socketSchema,
  type: typeClassSchema,
});

const traitSchema = z.strictObject({
  conduit_socket: conduitSocketSchema.optional(),
  display_order: z.number(),
  tier: z.number(),
  trait: nameIdKeySchema.optional(),
});

const soulbindSchema = z.strictObject({
  is_active: z.boolean().optional(),
  soulbind: nameIdKeySchema,
  traits: z.array(traitSchema),
});

export const characterSoulbindsResponseSchema = responseBaseSchema.extend({
  character: characterSchema,
  chosen_covenant: nameIdKeySchema,
  renown_level: z.number(),
  soulbinds: z.array(soulbindSchema),
});
