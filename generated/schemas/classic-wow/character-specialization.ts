// Generated by ts-to-zod
import { z } from 'zod';
import { characterSchema, nameIdKeySchema, nameIdSchema, responseBaseSchema } from '../core';

const spellTooltipSchema = z.strictObject({
  cast_time: z.union([z.literal('Channeled'), z.literal('Instant'), z.literal('Instant cast'), z.literal('Passive')]),
  cooldown: z.string().optional(),
  description: z.string(),
  power_cost: z.string().optional().nullable(),
  range: z.string().optional(),
  spell: nameIdSchema,
});

const talentElementSchema = z.strictObject({
  spell_tooltip: spellTooltipSchema,
  talent: z.union([
    nameIdSchema,
    z.strictObject({
      id: z.number(),
    }),
  ]),
  talent_rank: z.number().optional(),
});

const classicProgressionSpecializationSchema = z.strictObject({
  specialization: nameIdKeySchema,
  specialization_name: z.string(),
  talents: z.array(talentElementSchema).optional(),
});

const specializationGroupItemSchema = z.strictObject({
  specialization_name: z.string(),
  spent_points: z.number(),
  talents: z.array(talentElementSchema),
});

const specializationGroupSchema = z.strictObject({
  glyphs: z.array(nameIdSchema).optional(),
  is_active: z.boolean(),
  specializations: z.array(specializationGroupItemSchema).optional(),
});

export const characterSpecializationsSummaryResponseSchema = responseBaseSchema.extend({
  active_specialization: nameIdKeySchema.optional(),
  character: characterSchema,
  specialization_groups: z.array(specializationGroupSchema),
  specializations: z.array(classicProgressionSpecializationSchema).optional(),
});
