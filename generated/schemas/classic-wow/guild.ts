// Generated by ts-to-zod
import { z } from 'zod';
import {
  characterSchema,
  colorSchema,
  factionSchema,
  hrefSchema,
  keyBaseSchema,
  nameIdKeySchema,
  realmSchema,
  responseBaseSchema,
} from '../core';

const guildSchema = nameIdKeySchema.extend({
  faction: factionSchema,
  realm: realmSchema,
});

const categoryProgressSchema = z.strictObject({
  category: nameIdKeySchema,
  points: z.number(),
  quantity: z.number(),
});

const recentEventSchema = z.strictObject({
  achievement: nameIdKeySchema,
  timestamp: z.number(),
});

const characterAchievementSchema = z.strictObject({
  achievement: nameIdKeySchema,
  character: characterSchema,
});

const rgbWithIdSchema = z.strictObject({
  id: z.number(),
  rgba: colorSchema,
});

const childCriterumSchema = z.strictObject({
  amount: z.number(),
  id: z.number(),
  is_completed: z.boolean(),
});

const borderSchema = z.strictObject({
  color: rgbWithIdSchema,
  id: z.number(),
  media: keyBaseSchema.and(
    z.strictObject({
      id: z.number(),
    }),
  ),
});

const criteriaSchema = z.strictObject({
  amount: z.number().optional(),
  child_criteria: z.array(childCriterumSchema).optional(),
  id: z.number(),
  is_completed: z.boolean(),
});

const playableSchema = keyBaseSchema.extend({
  id: z.number(),
});

const rosterMemberCharacterSchema = characterSchema.extend({
  level: z.number(),
  playable_class: playableSchema,
  playable_race: playableSchema,
});

export const guildAchievementsClassicEraResponseSchema = responseBaseSchema.extend({
  guild: guildSchema,
});

const achievementSchema = z.strictObject({
  achievement: nameIdKeySchema,
  completed_timestamp: z.number().optional(),
  criteria: criteriaSchema.optional(),
  id: z.number(),
});

const activityElementSchema = z.strictObject({
  activity: z.strictObject({
    type: z.string(),
  }),
  character_achievement: characterAchievementSchema,
  timestamp: z.number(),
});

const crestSchema = z.strictObject({
  background: z.strictObject({
    color: rgbWithIdSchema,
  }),
  border: borderSchema,
  emblem: borderSchema,
});

const memberSchema = z.strictObject({
  character: rosterMemberCharacterSchema,
  rank: z.number(),
});

export const guildAchievementsResponseSchema = responseBaseSchema.extend({
  achievements: z.array(achievementSchema),
  category_progress: z.array(categoryProgressSchema),
  guild: guildSchema,
  recent_events: z.array(recentEventSchema),
  total_points: z.number(),
  total_quantity: z.number(),
});

export const guildActivityResponseSchema = responseBaseSchema.extend({
  activities: z.array(activityElementSchema).optional(),
  guild: guildSchema,
});

export const guildResponseSchema = responseBaseSchema.extend({
  achievement_points: z.number(),
  achievements: hrefSchema,
  activity: hrefSchema,
  created_timestamp: z.number(),
  crest: crestSchema.optional(),
  faction: factionSchema,
  id: z.number(),
  member_count: z.number(),
  name: z.string(),
  name_search: z.string(),
  realm: realmSchema,
  roster: hrefSchema,
});

export const guildRosterResponseSchema = responseBaseSchema.extend({
  guild: guildSchema,
  members: z.array(memberSchema),
});
